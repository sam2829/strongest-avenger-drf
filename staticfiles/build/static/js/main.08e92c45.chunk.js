(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{101:function(e,t,a){e.exports={Alert:"AlertMessage_Alert__3gCEs"}},102:function(e,t,a){e.exports={Asset:"Asset_Asset__1dBcX"}},103:function(e,t,a){e.exports={Heading:"ReportsPage_Heading__h6_a_"}},109:function(e,t,a){},12:function(e,t,a){e.exports={Button:"Button_Button__27i9m",Follow:"Button_Follow__2CQbM",UnFollow:"Button_UnFollow__3ww1R",ProfilePageFollow:"Button_ProfilePageFollow__2LyCR",ProfilePageUnFollow:"Button_ProfilePageUnFollow__3ee6a"}},139:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(36),r=a.n(n),o=(a(109),a(14)),l=a.n(o),i=a(63),d=a(10),j=a(104),m=a.p+"static/media/logo.654bf1a9.png",u=a(34),h=a.n(u),p=a(13),b=a(22),x=a.n(b);x.a.defaults.baseURL="/api",x.a.defaults.headers.post["Content-Type"]="multipart/form-data",x.a.defaults.withCredentials=!0;const O=x.a.create(),g=x.a.create();var v=a(52),f=a(96);const w=async(e,t)=>{try{const{data:a}=await O.get(e.next);t((e=>({...e,next:a.next,results:a.results.reduce(((e,t)=>e.some((e=>e.id===t.id))?e:[...e,t]),e.results)})))}catch(a){}},C=(e,t,a)=>{const{id:s,is_owner:c,followers_count:n,following_count:r}=e;return s===t.id?{...e,followers_count:n+1,following_id:a}:c?{...e,following_count:r+1}:e},_=(e,t)=>{const{id:a,is_owner:s,followers_count:c,following_count:n}=e;return a===t.id?{...e,followers_count:c-1,following_id:null}:s?{...e,following_count:n-1}:e},N=e=>{const t=Object(f.a)(null===e||void 0===e?void 0:e.refresh_token).exp;localStorage.setItem("refreshTokenTimestamp",t)},y=()=>{localStorage.removeItem("refreshTokenTimestamp")};var A=a(0);const P=Object(s.createContext)(),B=Object(s.createContext)(),F=()=>Object(s.useContext)(P),k=()=>Object(s.useContext)(B),I=e=>{let{children:t}=e;const[a,c]=Object(s.useState)(null),n=Object(v.useHistory)();return Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await g.get("dj-rest-auth/user/");c(e)}catch(e){}})()}),[]),Object(s.useMemo)((()=>{O.interceptors.request.use((async e=>{if(localStorage.getItem("refreshTokenTimestamp"))try{await x.a.post("/dj-rest-auth/token/refresh/")}catch(t){return c((e=>(e&&n.push("/signin"),null))),y(),e}return e}),(e=>Promise.reject(e))),g.interceptors.response.use((e=>e),(async e=>{var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)){try{await x.a.post("/dj-rest-auth/token/refresh/")}catch(e){c((e=>(e&&n.push("/signin"),null))),y()}return x()(e.config)}return Promise.reject(e)}))}),[n]),Object(A.jsx)(P.Provider,{value:a,children:Object(A.jsx)(B.Provider,{value:c,children:t})})};var S=a(99),R=a.n(S);var D=e=>{let{src:t,height:a=45,text:s}=e;return Object(A.jsxs)("span",{children:[Object(A.jsx)("img",{className:R.a.Avatar,src:t,height:a,width:a,alt:"avatar"}),s]})};class T extends s.Component{render(){const{currentUser:e,handleSignOut:t}=this.props,a=Object(A.jsxs)(p.c,{activeClassName:h.a.Active,to:"/posts/create",className:"d-block d-sm-none",children:[Object(A.jsx)("i",{className:"far fa-plus-square "}),"Add post"]});return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(p.c,{className:h.a.NavLink,activeClassName:h.a.Active,to:"/feed",children:[Object(A.jsx)("i",{className:"fa-solid fa-bars"}),"Feed"]}),Object(A.jsxs)(p.c,{activeClassName:h.a.Active,to:"/liked",children:[Object(A.jsx)("i",{className:"fa-solid fa-heart"}),"Liked"]}),Object(A.jsxs)(p.c,{to:"/",onClick:t,children:[Object(A.jsx)("i",{className:"fa-solid fa-right-from-bracket"}),"Sign out"]}),Object(A.jsx)(p.c,{to:"/profiles/".concat(null===e||void 0===e?void 0:e.profile_id),children:Object(A.jsx)(D,{src:null===e||void 0===e?void 0:e.profile_image,text:"Profile",height:35})}),a]})}}var E=T;class U extends s.Component{render(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(p.c,{activeClassName:h.a.Active,to:"/signin",children:[Object(A.jsx)("i",{className:"fas fa-sign-in-alt"}),"Sign in"]}),Object(A.jsxs)(p.c,{to:"/signup",activeClassName:h.a.Active,children:[Object(A.jsx)("i",{className:"fas fa-user-plus"}),"Sign up"]})]})}}var L=U;var M=()=>{const[e,t]=Object(s.useState)(!1),a=Object(s.useRef)(null);return Object(s.useEffect)((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&t(!1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),[a]),{expanded:e,setExpanded:t,ref:a}};var H=e=>{let{showAlert:t}=e;const a=F(),s=k(),{expanded:c,setExpanded:n,ref:r}=M(),o=Object(A.jsxs)(p.c,{activeClassName:h.a.Active,to:"/posts/create",className:"mr-auto mr-auto pr-5 d-sm-inline d-none",children:[Object(A.jsx)("i",{className:"far fa-plus-square "}),"Add post"]});return Object(A.jsx)(i.a,{expanded:c,className:h.a.NavBar,expand:"lg",fixed:"top",children:Object(A.jsxs)(d.a,{children:[Object(A.jsx)(p.c,{to:"/",children:Object(A.jsxs)(i.a.Brand,{children:[Object(A.jsx)("img",{src:m,alt:"logo",height:"58",className:"d-none d-sm-block"}),Object(A.jsx)("img",{src:m,alt:"logo",height:"45",className:"d-block d-sm-none"})]})}),Object(A.jsxs)(p.c,{className:"mr-auto pr-5 d-sm-inline",to:"/",children:["STRONGEST",Object(A.jsx)("br",{}),"AVENGER"]}),a&&o,Object(A.jsx)(i.a.Toggle,{ref:r,onClick:()=>n(!c),"aria-controls":"basic-navbar-nav"}),Object(A.jsx)(i.a.Collapse,{id:"basic-navbar-nav",children:Object(A.jsxs)(j.a,{className:"ml-auto text-left",children:[Object(A.jsxs)(p.c,{exact:!0,activeClassName:h.a.Active,to:"/",children:[Object(A.jsx)("i",{className:"fas fa-home"}),"Home"]}),a?Object(A.jsx)(E,{currentUser:a,handleSignOut:async()=>{try{await x.a.post("dj-rest-auth/logout/"),t("success","You have successfully signed out!"),s(null),y()}catch(e){}}}):Object(A.jsx)(L,{})]})})]})})},Q=a(15),G=a(31),X=a.n(G),V=a(12),W=a.n(V),q=a(4),Y=a(17),K=a(11),Z=a(9),J=a(16);const z=e=>{const t=Object(Q.useHistory)();Object(s.useEffect)((()=>{(async()=>{try{await x.a.post("/dj-rest-auth/token/refresh/"),"loggedIn"===e&&t.push("/")}catch(a){"loggedOut"===e&&t.push("/signin")}})()}),[t,e])};var $=()=>{var e,t,a,c;const[n,r]=Object(s.useState)({username:"",password1:"",password2:""}),{username:o,password1:i,password2:j}=n,[u,h]=Object(s.useState)({}),b=Object(Q.useHistory)();z("loggedIn");const O=e=>{r({...n,[e.target.name]:e.target.value})};return Object(A.jsxs)(d.a,{className:l.a.Content,children:[Object(A.jsx)(K.a,{className:"".concat(X.a.Row," justify-content-center"),children:Object(A.jsx)(Z.a,{md:{span:6},children:Object(A.jsx)(d.a,{children:Object(A.jsxs)(K.a,{className:"text-center",children:[Object(A.jsx)(Z.a,{xs:"2",children:Object(A.jsx)("img",{src:m,alt:"logo",height:"40"})}),Object(A.jsx)(Z.a,{xs:"8",children:Object(A.jsx)("h1",{className:X.a.Heading,children:"Sign up"})})]})})})}),Object(A.jsx)(K.a,{className:"justify-content-center text-center p-4",children:Object(A.jsx)(Z.a,{md:{span:6},children:Object(A.jsx)(d.a,{children:Object(A.jsxs)(q.a,{onSubmit:async e=>{e.preventDefault();try{await x.a.post("/dj-rest-auth/registration/",n),b.push("/signin")}catch(a){var t;console.error("Error submitting form:",a),h(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(A.jsxs)(q.a.Group,{controlId:"username",children:[Object(A.jsx)(q.a.Label,{className:"d-none",children:"username"}),Object(A.jsx)(q.a.Control,{className:X.a.Input,type:"text",placeholder:"Username",name:"username",value:o,onChange:O,maxLength:12})]}),null===(e=u.username)||void 0===e?void 0:e.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsxs)(q.a.Group,{controlId:"password1",children:[Object(A.jsx)(q.a.Label,{className:"d-none",children:"Password"}),Object(A.jsx)(q.a.Control,{className:X.a.Input,type:"password",placeholder:"Password",name:"password1",value:i,onChange:O})]}),null===(t=u.password1)||void 0===t?void 0:t.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsxs)(q.a.Group,{controlId:"password2",children:[Object(A.jsx)(q.a.Label,{className:"d-none",children:"Password"}),Object(A.jsx)(q.a.Control,{className:X.a.Input,type:"password",placeholder:"Confirm password",name:"password2",value:j,onChange:O})]}),null===(a=u.password2)||void 0===a?void 0:a.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsx)(Y.a,{className:W.a.Button,type:"submit",children:"Sign up"}),null===(c=u.non_field_errors)||void 0===c?void 0:c.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",className:"mt-3",children:e},t)))]})})})}),Object(A.jsx)(K.a,{className:"justify-content-center text-center p-2",children:Object(A.jsx)(Z.a,{md:{span:6},children:Object(A.jsx)(d.a,{children:Object(A.jsxs)(p.b,{className:X.a.Link,to:"/signin",children:["Already have an account? Please ",Object(A.jsx)("span",{children:"Sign in"})]})})})})]})};class ee extends s.Component{constructor(e){super(e),this.handleChange=e=>{const{signInData:t}=this.state;this.setState({signInData:{...t,[e.target.name]:e.target.value}})},this.handleSubmit=async e=>{e.preventDefault();const{signInData:t}=this.state;try{const{data:e}=await x.a.post("/dj-rest-auth/login/",t);this.props.setCurrentUser(e.user),this.props.setTokenTimestamp(e);const{username:a}=t;this.props.showAlert("success","You have successfully signed in as ".concat(a,"!")),this.props.history.push("/")}catch(s){var a;this.setState({errors:null===(a=s.response)||void 0===a?void 0:a.data})}},this.state={signInData:{username:"",password:""},errors:{}}}render(){var e,t,a;const{signInData:s,errors:c}=this.state,{username:n,password:r}=s,{currentUser:o}=this.props;return o?Object(A.jsx)(Q.Redirect,{to:"/"}):Object(A.jsxs)(d.a,{className:l.a.Content,children:[Object(A.jsx)(K.a,{className:"".concat(X.a.Row," justify-content-center"),children:Object(A.jsx)(Z.a,{md:{span:6},children:Object(A.jsx)(d.a,{children:Object(A.jsxs)(K.a,{className:"text-center",children:[Object(A.jsx)(Z.a,{xs:"2",children:Object(A.jsx)("img",{src:m,alt:"logo",height:"40"})}),Object(A.jsx)(Z.a,{xs:"8",children:Object(A.jsx)("h1",{className:X.a.Heading,children:"Sign in"})})]})})})}),Object(A.jsx)(K.a,{className:"justify-content-center text-center p-4",children:Object(A.jsx)(Z.a,{md:{span:6},children:Object(A.jsx)(d.a,{children:Object(A.jsxs)(q.a,{onSubmit:this.handleSubmit,children:[Object(A.jsxs)(q.a.Group,{controlId:"username",children:[Object(A.jsx)(q.a.Label,{className:"d-none",children:"username"}),Object(A.jsx)(q.a.Control,{className:X.a.Input,type:"text",placeholder:"Username",name:"username",value:n,onChange:this.handleChange,maxLength:12})]}),null===(e=c.username)||void 0===e?void 0:e.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsxs)(q.a.Group,{controlId:"password",children:[Object(A.jsx)(q.a.Label,{className:"d-none",children:"Password"}),Object(A.jsx)(q.a.Control,{className:X.a.Input,type:"password",placeholder:"Password",name:"password",value:r,onChange:this.handleChange})]}),null===(t=c.password)||void 0===t?void 0:t.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsx)(Y.a,{className:W.a.Button,type:"submit",children:"Sign in"}),null===(a=c.non_field_errors)||void 0===a?void 0:a.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",className:"mt-3",children:e},t)))]})})})}),Object(A.jsx)(K.a,{className:"justify-content-center text-center p-2",children:Object(A.jsx)(Z.a,{md:{span:6},children:Object(A.jsx)(d.a,{children:Object(A.jsxs)(p.b,{className:X.a.Link,to:"/signup",children:["Don't have an account? Please ",Object(A.jsx)("span",{children:"Sign up!"})]})})})})]})}}var te=Object(Q.withRouter)((e=>Object(A.jsx)(B.Consumer,{children:t=>Object(A.jsx)(ee,{...e,setCurrentUser:t})}))),ae=a(101),se=a.n(ae);var ce=e=>{let{variant:t,message:a,showAlert:c}=e;const[n,r]=Object(s.useState)(!0);return Object(s.useEffect)((()=>{if(c){r(!0);const e=setTimeout((()=>{r(!1)}),3e3);return()=>{clearTimeout(e)}}}),[c]),Object(A.jsx)(A.Fragment,{children:n&&Object(A.jsx)(J.a,{className:se.a.Alert,variant:t,onClose:()=>{r(!1)},dismissible:!0,children:a})})},ne=a(19),re=a.n(ne);var oe=e=>{var t,a,s,c;let{title:n,characterName:r,characterCategory:o,content:l,handleChange:i,errors:d}=e;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(q.a.Group,{children:[Object(A.jsx)(q.a.Label,{children:"Title"}),Object(A.jsx)(q.a.Control,{type:"text",name:"title",value:n,onChange:i})]}),null===d||void 0===d||null===(t=d.title)||void 0===t?void 0:t.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsxs)(q.a.Group,{children:[Object(A.jsx)(q.a.Label,{children:"Character name"}),Object(A.jsx)(q.a.Control,{type:"text",name:"characterName",value:r,onChange:i})]}),null===d||void 0===d||null===(a=d.character_name)||void 0===a?void 0:a.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsxs)(q.a.Group,{children:[Object(A.jsx)(q.a.Label,{children:"Character category"}),Object(A.jsxs)(q.a.Control,{as:"select",name:"characterCategory",value:o,onChange:i,children:[Object(A.jsx)("option",{value:"Avenger",children:"Avenger"}),Object(A.jsx)("option",{value:"X-Men",children:"X-Men"}),Object(A.jsx)("option",{value:"Anti-Hero",children:"Anti-Hero"}),Object(A.jsx)("option",{value:"Villain",children:"Villain"})]})]}),null===d||void 0===d||null===(s=d.character_category)||void 0===s?void 0:s.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsxs)(q.a.Group,{children:[Object(A.jsx)(q.a.Label,{children:"Content"}),Object(A.jsx)(q.a.Control,{as:"textarea",name:"content",value:l,onChange:i})]}),null===d||void 0===d||null===(c=d.content)||void 0===c?void 0:c.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t)))]})},le=a(69),ie=a(142),de=a(102),je=a.n(de);var me=e=>{let{spinner:t,src:a,message:s}=e;return Object(A.jsxs)("div",{className:"".concat(je.a.Asset," p-4"),children:[t&&Object(A.jsx)(ie.a,{animation:"border"}),a&&Object(A.jsx)("img",{src:a,alt:s}),s&&Object(A.jsx)("p",{className:"mt-4",children:s})]})},ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUmSURBVHgB7Z1NbxtFGMf/M7Nre3HitElRoLIlDiBFFbdIVKVCKh+AU8sXqNo7Uk+cEOJKvwEfAAV6KhfEASREoyJya0tQg1TJbqUc6qS1E6/3bZixcbp2nZdN7J3d5vlJq/V6d63o+e28O34YToiUkn0KiA3Ant8Ed1oQXQs85GC+AC+z/j5+j+1CIIP4JYTxYy94dVzyEXplBFYEubuIoAqEv6qNMSZxAhgSogNeU3/PuScoRg4KWQ1matjwQw+BY6FbrcL7gbEwye1HFnBBysLMU8yGAQog9mXHgndWYne1xjpHuf5QART441FU1de2i+1HHzLvoOsOFLD8l5zDObwF4ti0XbT/WWKt/c6PFaDr+YtPMU9P/WTY6cBbX0ITYxpsPu4GCv5kKavOytI65sede03A5XVJ9f0U0BLefywro+8PCdANrlvCDIipMGejfOGBHHq4hwSc+RdnQEyVSGA2frwn4FJdOmoEe7oHVSmgq6J4KdgTEDLqbqZFvBT0BHwupaCGNz10KVB9/d4QoCeg0aDgp021gZLe9wR0AhRBpMpiuf/Q9wSwQM3pEaniN/sPPcdXknMbFohUsXWPU7UDfPkz6nqa4opayOLPF0iAKTYasHnFIQGmWFTLtjzgyZcliclQKqgqyKHpB2O4ApyLXeoBmUJN/zAOwhheW5UAEMZQ7S/n7mn/Xo9BSh0qAcYhAYYhAYbhNo0DjKFjTyXAMCTAMCTAMCTAMCTAMLkVEESo+R7u6y3kqCKn5FKADr4M8CMkanqLXNzJq4TcCRgK/oAcS8iVgJHg12On6nmVkBsBo8HnFq4Ozqk11WvIqYRcCBgXfCHQGJy3iqjnVULmBRwW/AF5lZB5AdLHjcOCP+A1CV3cQsbJ/IK8sLASRqiopaPbBwV/gJYQdHEtAm5YEVaQcdjyE/kucorfxTO9t4s4j5xCUxGGIQGGIQGGIQGGIQGGIQGGyZSArZs/3dcbpsS0P/84ZGogJkNZS3hLPcnFx/j8qZPrr6arAdhF5BxqAwxDAgxDAgyTSQHt359VcErIlABmi3t6H9x5eBMTxFdCt7/4pbc2IAV7iAyRqV6QeG/udvC4+XH00r3VvH53Kosp/J25b5EhMlUCKl9eXrVqlevMmvxTymx+z/pg/urZbz75GRki1wsybwLUCzIMCTAMCTAMCTAMCTAM9wMkyvhATA4deyoBhiEBhiEBhuFC4kRpmIjjExQRcNtBBMIYXGxTCTAJ985TN9QUTll1Q63nVAJM0dHjgM4slQBTOD4i3vSpETbFC1X988VNBCCMoDOy8rW7VAWZ4jctAF+ziCbk0qdlw9epDXtTEfY8uiBSZdZVAvD/XNDmDjwQqbJZ6Me8n0XpOyoBadNY7QvYyx3w0d9yIXQonVUadAS6j2qsqV/vTUe3Q7RApMJL5WDwek+ATr0tOtQWTBvd42zE8s0PLchQKZg+gYvt+PGQAF0KLB87IKZCp42WjnH8vbEJfKhBnjzxhjfO2DXhP7/HFrUHk6MX/Cq2xp07MIXVlQdypjUznAGaSEapjPYfb7N929ZDc4jp7M9WCWfoZ+6ToZ96vEB7tM4f5chJ3Kp16dTUGoIXUurbgzhq4Ackz6K3IkX1EgqLnmqkS9Bzeqc6FW6kv1qyC0/P7TSqcPUMZ5L7T57GUEq2vAZLJwXtOBALHMxpQRQKr6osd6T64t1s/oe+Dmb8mEeQhQhRW+8DRKUKoo0Qka1WEfVC1tqyuj5hwEf5D7ZH39OOpDxXAAAAAElFTkSuQmCC";var he=e=>{var t;let{image:a,postData:s,setPostData:c,errors:n,imageInput:r,imageFile:o}=e;return Object(A.jsxs)(A.Fragment,{children:[a?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("figure",{children:Object(A.jsx)(le.a,{className:re.a.Media,src:a,rounded:!0})}),Object(A.jsx)("div",{children:Object(A.jsx)(q.a.Label,{className:W.a.Button,htmlFor:"image-upload",children:"Change the image"})})]}):Object(A.jsx)(q.a.Label,{className:"d-flex justify-content-center",htmlFor:"image-upload",children:Object(A.jsx)(me,{src:ue,message:"Click or tap to upload an image"})}),Object(A.jsx)(q.a.File,{id:"image-upload",className:re.a.ChooseFile,accept:"image/*",onChange:e=>{e.target.files.length&&(URL.revokeObjectURL(a),c({...s,image:URL.createObjectURL(e.target.files[0])}))},ref:r,defaultValue:o||""}),null===n||void 0===n||null===(t=n.image)||void 0===t?void 0:t.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t)))]})};var pe=e=>{var t;let{video:a,postData:s,setPostData:c,errors:n,videoInput:r}=e;return Object(A.jsxs)(A.Fragment,{children:[a?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("figure",{children:Object(A.jsxs)("div",{className:re.a.VideoContainer,children:[Object(A.jsx)("video",{src:a,className:re.a.Media,controls:!0,children:"Your browser does not support the video tag."}),Object(A.jsx)("div",{className:re.a.PlayButton,onClick:()=>document.getElementById("video").play()})]})}),Object(A.jsx)("div",{children:Object(A.jsx)(q.a.Label,{className:W.a.Button,htmlFor:"video-upload",children:"Change the video"})})]}):Object(A.jsx)(q.a.Label,{className:"d-flex justify-content-center",htmlFor:"video-upload",children:Object(A.jsx)(me,{src:ue,message:"Click or tap to upload a video"})}),Object(A.jsx)(q.a.File,{id:"video-upload",className:re.a.ChooseFile,accept:"video/*",onChange:e=>{e.target.files.length&&(URL.revokeObjectURL(a),c({...s,video:URL.createObjectURL(e.target.files[0])}))},ref:r}),null===n||void 0===n||null===(t=n.video)||void 0===t?void 0:t.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t)))]})};var be=e=>{let{mediaType:t,handleChange:a}=e;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(q.a.Label,{className:"".concat(re.a.FormFields," mt-3"),children:"Select if posting image or video:"}),Object(A.jsxs)(K.a,{children:[Object(A.jsx)(Z.a,{md:{span:2,offset:3},children:Object(A.jsx)(q.a.Check,{type:"radio",label:"Image",name:"mediaType",value:"Image",checked:"Image"===t,onChange:a,className:re.a.RadioButtons})}),Object(A.jsx)(Z.a,{md:{span:2,offset:2},children:Object(A.jsx)(q.a.Check,{type:"radio",label:"Video",name:"mediaType",value:"Video",checked:"Video"===t,onChange:a,className:re.a.RadioButtons})})]})]})};var xe=e=>{let{showAlert:t}=e;const[a,c]=Object(s.useState)({});z("loggedOut");const[n,r]=Object(s.useState)({title:"",characterName:"",characterCategory:"Avenger",content:"",image:"",video:"",mediaType:"Image"}),{title:o,characterName:i,characterCategory:j,content:m,image:u,video:h,mediaType:p}=n,b=Object(s.useRef)(null),x=Object(s.useRef)(null),g=Object(Q.useHistory)(),v=e=>{const{name:t,value:a}=e.target;r("mediaType"===t?{...n,[e.target.name]:e.target.value,image:"Video"===a?"":u,video:"Image"===a?"":h}:{...n,[e.target.name]:e.target.value})};return Object(A.jsx)(q.a,{onSubmit:async e=>{e.preventDefault();const a=new FormData;a.append("title",o),a.append("character_name",i),a.append("character_category",j),a.append("content",m),"Image"===p?a.append("image",b.current.files[0]):"Video"===p&&a.append("video",x.current.files[0]);try{const{data:e}=await O.post("/posts/",a);t("success","You have successfully created a post"),g.push("/posts/".concat(e.id))}catch(s){s.response&&s.response.data&&c(s.response.data)}},children:Object(A.jsx)(d.a,{className:l.a.Content,children:Object(A.jsx)(K.a,{className:"p-4 justify content center",children:Object(A.jsxs)(Z.a,{md:{span:10,offset:1},children:[Object(A.jsx)(d.a,{className:"d-flex flex-column justify-content-center",children:Object(A.jsxs)(q.a.Group,{className:"text-center",children:["Image"===n.mediaType&&Object(A.jsx)(he,{image:u,errors:a,imageInput:b,postData:n,setPostData:r}),"Video"===n.mediaType&&Object(A.jsx)(pe,{video:h,errors:a,videoInput:x,postData:n,setPostData:r}),Object(A.jsx)(be,{mediaType:p,handleChange:v})]})}),Object(A.jsxs)(d.a,{className:re.a.FormFields,children:[Object(A.jsx)(oe,{title:o,characterName:i,characterCategory:j,content:m,handleChange:v,errors:a}),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(re.a.PostButton),type:"submit",children:"post"}),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(re.a.PostButton),onClick:()=>g.goBack(),children:"cancel"})]})]})})})})},Oe=a(25),ge=a.n(Oe),ve=a(28),fe=a.n(ve),we=a(146),Ce=a(144),_e=a(145),Ne=a(143);var ye=e=>{let{id:t,is_owner:a,like_id:s,likes_count:c,currentUser:n,setPosts:r}=e;return Object(A.jsxs)(A.Fragment,{children:[a?Object(A.jsx)(_e.a,{placement:"top",overlay:Object(A.jsx)(Ne.a,{children:"You can't like your own post!"}),children:Object(A.jsx)("i",{className:"far fa-heart"})}):s?Object(A.jsx)("span",{onClick:async()=>{try{await g.delete("/likes/".concat(s,"/")),r((e=>({...e,results:e.results.map((e=>e.id===t?{...e,likes_count:e.likes_count-1,like_id:null}:e))})))}catch(e){}},children:Object(A.jsx)("i",{className:"fas fa-heart ".concat(fe.a.Heart)})}):n?Object(A.jsx)("span",{onClick:async()=>{try{const{data:e}=await g.post("/likes/",{post:t});r((a=>({...a,results:a.results.map((a=>a.id===t?{...a,likes_count:a.likes_count+1,like_id:e.id}:a))})))}catch(e){}},children:Object(A.jsx)("i",{className:"far fa-heart ".concat(fe.a.HeartOutline)})}):Object(A.jsx)(_e.a,{placement:"top",overlay:Object(A.jsx)(Ne.a,{children:"Log in to like posts!"}),children:Object(A.jsx)("i",{className:"far fa-heart"})}),c]})},Ae=a(32),Pe=a(37),Be=a.n(Pe);const Fe=c.a.forwardRef(((e,t)=>{let{onClick:a}=e;return Object(A.jsx)("i",{className:"fa-solid fa-ellipsis-vertical",ref:t,onClick:e=>{e.preventDefault(),a(e)}})})),ke=e=>{let{handleEdit:t,handleDelete:a,resolved:s}=e;return Object(A.jsxs)(Ae.a,{className:"".concat(Be.a.DropdownItem," ml-auto px-2"),drop:"left",children:[Object(A.jsx)(Ae.a.Toggle,{as:Fe}),Object(A.jsxs)(Ae.a.Menu,{className:Be.a.DropdownMenu,popperConfig:{strategy:"fixed"},children:[!s&&Object(A.jsx)(Ae.a.Item,{className:Be.a.DropdownItem,onClick:t,"aria-label":"edit",children:Object(A.jsx)("i",{className:"fa-solid fa-pen-to-square"})}),Object(A.jsx)(Ae.a.Item,{className:Be.a.DropdownItem,onClick:a,"aria-label":"delete",children:Object(A.jsx)("i",{className:"fa-solid fa-trash-can"})})]})]})};function Ie(e){let{id:t}=e;const a=Object(Q.useHistory)();return Object(A.jsxs)(Ae.a,{className:"ml-auto px-3 ".concat(Be.a.ProfileDropdownIcon),drop:"left",children:[Object(A.jsx)(Ae.a.Toggle,{as:Fe}),Object(A.jsxs)(Ae.a.Menu,{className:Be.a.ProfileDropdownMenu,children:[Object(A.jsxs)(Ae.a.Item,{onClick:()=>a.push("/profiles/".concat(t,"/edit")),"aria-label":"edit-profile",className:Be.a.ProfileDropdownItem,children:[Object(A.jsx)("i",{className:"fa-solid fa-pen-to-square"})," edit profile"]}),Object(A.jsxs)(Ae.a.Item,{onClick:()=>a.push("/profiles/".concat(t,"/edit/username")),"aria-label":"edit-username",className:Be.a.ProfileDropdownItem,children:[Object(A.jsx)("i",{className:"far fa-id-card"}),"change username"]}),Object(A.jsxs)(Ae.a.Item,{onClick:()=>a.push("/profiles/".concat(t,"/edit/password")),"aria-label":"edit-password",className:Be.a.ProfileDropdownItem,children:[Object(A.jsx)("i",{className:"fas fa-key"}),"change password"]}),Object(A.jsxs)(Ae.a.Item,{onClick:()=>a.push("/report/"),"aria-label":"my-reports",className:Be.a.ProfileDropdownItem,children:[Object(A.jsx)("i",{className:"fa-solid fa-circle-exclamation"}),"my reports"]})]})]})}var Se=e=>{const{id:t,owner:a,character_name:s,comments_count:c,content:n,image:r,like_id:o,likes_count:l,profile_id:i,profile_image:d,title:j,updated_at:m,video:u,postPage:h,setPosts:b}=e,x=F(),O=(null===x||void 0===x?void 0:x.username)===a,v=Object(Q.useHistory)();return Object(A.jsxs)(we.a,{className:fe.a.PostContainer,children:[Object(A.jsxs)(we.a.Body,{className:fe.a.PostBody,children:[Object(A.jsxs)(Ce.a,{className:"align-items-center justify-content-between",children:[Object(A.jsxs)(p.b,{to:"/profiles/".concat(i),children:[Object(A.jsx)(D,{src:d,height:45}),a]}),Object(A.jsxs)("div",{className:"d-flex align-items-center",children:[Object(A.jsx)("span",{children:m}),O&&h&&Object(A.jsx)(ke,{handleDelete:async()=>{try{await g.delete("/posts/".concat(t,"/")),v.goBack()}catch(e){}},handleEdit:()=>{v.push("/posts/".concat(t,"/edit"))}})]})]}),Object(A.jsx)(we.a.Title,{className:fe.a.PostTitle,children:Object(A.jsx)("div",{children:Object(A.jsx)("span",{children:s})})})]}),Object(A.jsxs)(p.b,{to:"/posts/".concat(t),children:[r&&!u&&Object(A.jsx)(we.a.Img,{src:r,alt:j,className:fe.a.PostMedia}),!r&&u&&Object(A.jsx)(we.a.Body,{className:"p-0",children:Object(A.jsx)("video",{src:u,className:fe.a.PostMedia,controls:!0,children:"Your browser does not support the video tag."})})]}),Object(A.jsxs)(we.a.Body,{className:fe.a.PostBody,children:[Object(A.jsx)(we.a.Title,{className:fe.a.PostTitle,children:j}),Object(A.jsx)(we.a.Text,{className:"text-center py-2",children:n}),Object(A.jsxs)("div",{className:fe.a.PostIcons,children:[Object(A.jsx)("div",{className:fe.a.IconContainer,children:Object(A.jsx)(ye,{id:t,is_owner:O,like_id:o,likes_count:l,currentUser:x,setPosts:b})}),Object(A.jsxs)("div",{className:fe.a.IconContainer,children:[Object(A.jsx)(p.b,{to:"/posts/".concat(t),children:Object(A.jsx)("i",{className:"far fa-comments"})}),c]}),x&&Object(A.jsx)("div",{className:fe.a.IconContainer,children:Object(A.jsx)(p.b,{to:"/report/".concat(t),children:Object(A.jsx)("i",{className:"fa-solid fa-circle-exclamation"})})})]})]})]})},Re=a(74);var De=e=>{let{agree:t,setAgree:a}=e;const s=()=>{a((e=>!e))};return Object(A.jsxs)(A.Fragment,{children:[t&&Object(A.jsx)("div",{className:ge.a.agreeIcon,children:Object(A.jsx)(_e.a,{placement:"top",overlay:Object(A.jsx)(Ne.a,{children:"Do you disagree!"}),children:Object(A.jsx)("i",{className:"fa-solid fa-circle-check","data-value":t,onClick:s})})}),!t&&Object(A.jsx)("div",{className:ge.a.agreeIcon,children:Object(A.jsx)(_e.a,{placement:"top",overlay:Object(A.jsx)(Ne.a,{children:"Do you agree!"}),children:Object(A.jsx)("i",{className:"fa-regular fa-circle-check","data-value":t,onClick:s})})})]})};var Te=e=>{var t;let{profile_id:a,profileImage:c,post:n,setPost:r,setComments:o}=e;const[l,i]=Object(s.useState)(""),[d,j]=Object(s.useState)(!1),[m,u]=Object(s.useState)({});return Object(A.jsx)(q.a,{onSubmit:async e=>{e.preventDefault();try{const{data:e}=await g.post("/comments/",{content:l,post:n,agree:d});o((t=>({...t,results:[e,...t.results]}))),r((e=>({results:[{...e.results[0],comments_count:e.results[0].comments_count+1}]}))),i(""),j(!1),u({})}catch(t){u(t.response.data)}},children:Object(A.jsxs)(q.a.Group,{children:[Object(A.jsxs)(Re.a,{children:[Object(A.jsx)(p.b,{to:"/profiles/".concat(a),children:Object(A.jsx)(D,{src:c})}),Object(A.jsx)(q.a.Control,{className:"".concat(ge.a.textarea," ").concat(ge.a.Form," mb-3"),placeholder:"my comment...",as:"textarea",value:l,onChange:e=>{i(e.target.value)},rows:2})]}),null===m||void 0===m||null===(t=m.content)||void 0===t?void 0:t.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsxs)("div",{className:"d-flex justify-content-center mt-2",children:[Object(A.jsx)(De,{agree:d,setAgree:j}),Object(A.jsx)("button",{className:"".concat(W.a.Button," ml-2"),type:"submit",children:"post"})]})]})})},Ee=a(56),Ue=a.n(Ee);var Le=e=>{var t;let{id:a,content:c,setComments:n,setShowEditForm:r,agreeProp:o}=e;const[l,i]=Object(s.useState)(c),[d,j]=Object(s.useState)(o),[m,u]=Object(s.useState)({});return Object(A.jsx)(q.a,{onSubmit:async e=>{e.preventDefault();try{await g.put("/comments/".concat(a,"/"),{content:l.trim(),agree:d}),n((e=>({...e,results:e.results.map((e=>e.id===a?{...e,content:l.trim(),updated_at:"now",agree:d}:e))}))),u({}),r(!1)}catch(t){u(t.response.data)}},children:Object(A.jsxs)(q.a.Group,{children:[Object(A.jsx)(Re.a,{children:Object(A.jsx)(q.a.Control,{className:"".concat(ge.a.textarea," ").concat(ge.a.Form," ").concat(ge.a.EditContent),placeholder:"my comment...",as:"textarea",value:l,onChange:e=>{i(e.target.value)},rows:2})}),null===m||void 0===m||null===(t=m.content)||void 0===t?void 0:t.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsxs)("div",{className:"d-flex justify-content-center mt-2",children:[Object(A.jsx)(De,{agree:d,setAgree:j}),Object(A.jsx)("button",{className:"".concat(W.a.Button," ml-2"),type:"submit",children:"save"})]})]})})};var Me=e=>{const{profile_id:t,profile_image:a,owner:c,updated_at:n,content:r,id:o,agree:l,setPost:i,setComments:d}=e,j=F(),m=(null===j||void 0===j?void 0:j.username)===c,[u,h]=Object(s.useState)(!1);return Object(A.jsxs)("div",{children:[Object(A.jsx)("hr",{}),Object(A.jsxs)(Ce.a,{className:"align-items-center",children:[Object(A.jsxs)(p.b,{to:"/profiles/".concat(t),className:"d-flex align-items-center",children:[Object(A.jsx)(D,{src:a,height:35}),Object(A.jsx)("span",{className:"ml-2 ".concat(Ue.a.Owner),children:c})]}),Object(A.jsxs)("div",{className:"ml-auto d-flex align-items-center",children:[Object(A.jsx)("span",{className:Ue.a.Date,children:n}),m&&!u&&Object(A.jsx)("div",{className:"ml-1",children:Object(A.jsx)(ke,{handleEdit:()=>h(!0),handleDelete:async()=>{try{await g.delete("/comments/".concat(o,"/")),i((e=>({results:[{...e.results[0],comments_count:e.results[0].comments_count-1}]}))),d((e=>({...e,results:e.results.filter((e=>e.id!==o))})))}catch(e){}}})})]})]}),!u&&Object(A.jsxs)("div",{className:"my-2 d-flex align-items-center",children:[Object(A.jsx)("div",{className:"text-left flex-grow-1",children:Object(A.jsx)("p",{className:Ue.a.Content,children:r})}),l&&Object(A.jsx)("div",{className:Ue.a.Tick,children:Object(A.jsx)("i",{className:"fa-solid fa-circle-check"})}),!l&&Object(A.jsx)("div",{className:Ue.a.Cross,children:Object(A.jsx)("i",{className:"fa-solid fa-circle-xmark"})})]}),u&&Object(A.jsx)(Le,{id:o,content:r,setComments:d,setShowEditForm:h,agreeProp:l})]})};var He=e=>{let{comments:t,currentUser:a,setPost:s,setComments:c}=e;return Object(A.jsx)(A.Fragment,{children:t.results.length?t.results.map((e=>Object(A.jsx)(Me,{...e,setPost:s,setComments:c},e.id))):Object(A.jsx)("p",{className:ge.a.Message,children:a?"No comments, be the first to comment!":"No comments... yet"})})},Qe=a(43),Ge=a(83),Xe=a.n(Ge);const Ve=Object(s.createContext)(),We=Object(s.createContext)(),qe=()=>Object(s.useContext)(Ve),Ye=()=>Object(s.useContext)(We),Ke=e=>{let{children:t}=e;const[a,c]=Object(s.useState)({pageProfile:{results:[]},popularProfiles:{results:[]}}),n=F();return Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await O.get("/profiles/?ordering=-followers_count");c((t=>({...t,popularProfiles:e})))}catch(e){}})()}),[n]),Object(A.jsx)(Ve.Provider,{value:a,children:Object(A.jsx)(We.Provider,{value:{setProfileData:c,handleFollow:async e=>{try{const{data:t}=await g.post("/followers/",{followed:e.id});c((a=>({...a,pageProfile:{results:a.pageProfile.results.map((a=>C(a,e,t.id)))},popularProfiles:{...a.popularProfiles,results:a.popularProfiles.results.map((a=>C(a,e,t.id)))}})))}catch(t){}},handleUnfollow:async e=>{try{await g.delete("/followers/".concat(e.following_id,"/")),c((t=>({...t,pageProfile:{results:t.pageProfile.results.map((t=>_(t,e)))},popularProfiles:{...t.popularProfiles,results:t.popularProfiles.results.map((t=>_(t,e)))}})))}catch(t){}}},children:t})})};var Ze=a(84),Je=a.n(Ze);var ze=e=>{const{profile:t,mobile:a,imageSize:s=35}=e,{id:c,following_id:n,image:r,owner:o}=t,l=F(),i=(null===l||void 0===l?void 0:l.username)===o,{handleFollow:d,handleUnfollow:j}=Ye();return Object(A.jsxs)("div",{className:"my-3 d-flex align-items-center ".concat(a&&"flex-column"),children:[Object(A.jsx)("div",{children:Object(A.jsx)(p.b,{className:"align-self-center",to:"/profiles/".concat(c),children:Object(A.jsx)(D,{src:r,height:s})})}),Object(A.jsx)("div",{className:"mx-2 ".concat(Je.a.WordBreak," ").concat(Je.a.OwnerText),children:Object(A.jsx)("strong",{children:o})}),Object(A.jsx)("div",{className:"text-right ".concat(!a&&"ml-auto"),children:l&&!i&&(n?Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(W.a.UnFollow),onClick:()=>j(t),children:"unfollow"}):Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(W.a.Follow),onClick:()=>d(t),children:"follow"}))})]})};var $e=e=>{var t;let{mobile:a}=e;const{popularProfiles:s}=qe();return Object(A.jsx)(d.a,{className:"".concat(l.a.Content," ").concat(Xe.a.ProfileContainer," ").concat(a&&"d-lg-none text-center mb-3"),children:null!==s&&void 0!==s&&null!==(t=s.results)&&void 0!==t&&t.length?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(d.a,{className:Xe.a.HeaderProfiles,children:Object(A.jsx)("p",{children:"Most followed profiles."})}),a&&Object(A.jsx)("div",{className:"d-flex justify-content-around",children:s.results.slice(0,4).map((e=>Object(A.jsx)(ze,{profile:e,mobile:!0},e.id)))}),!a&&s.results.map((e=>Object(A.jsx)(ze,{profile:e},e.id)))]}):Object(A.jsx)(me,{spinner:!0})})},et=a(38),tt=a.n(et);var at=e=>{let{mobile:t}=e;return Object(A.jsxs)(d.a,{className:"".concat(l.a.Content," ").concat(tt.a.SearchByContainer," ").concat(t&&"d-lg-none text-center"),children:[Object(A.jsx)(d.a,{className:tt.a.SearchByHeader,children:Object(A.jsx)("p",{children:"Search by:"})}),Object(A.jsxs)(d.a,{className:"d-flex ".concat(t?"justify-content-around":"flex-column"),children:[Object(A.jsx)("div",{className:"".concat(t?"mb-2":"my-3"),children:Object(A.jsx)("div",{children:Object(A.jsx)(p.c,{className:tt.a.SearchByLinks,to:"/character_category/avenger",activeClassName:tt.a.ActiveLink,children:Object(A.jsx)("span",{children:"Avenger"})})})}),Object(A.jsx)("div",{className:"".concat(t?"mb-2 px-2":"my-3"),children:Object(A.jsx)("div",{children:Object(A.jsx)(p.c,{className:tt.a.SearchByLinks,to:"/character_category/x-men",activeClassName:tt.a.ActiveLink,children:Object(A.jsx)("span",{children:"X-Men"})})})}),Object(A.jsx)("div",{className:"".concat(t?"mb-2 px-2":"my-3"),children:Object(A.jsx)("div",{children:Object(A.jsx)(p.c,{className:tt.a.SearchByLinks,to:"/character_category/anti-hero",activeClassName:tt.a.ActiveLink,children:Object(A.jsx)("span",{children:"Anti-hero"})})})}),Object(A.jsx)("div",{className:"".concat(t?"mb-2":"my-3"),children:Object(A.jsx)("div",{children:Object(A.jsx)(p.c,{className:tt.a.SearchByLinks,to:"/character_category/villain",activeClassName:tt.a.ActiveLink,children:Object(A.jsx)("span",{children:"Villain"})})})})]})]})};var st=()=>{const{id:e}=Object(Q.useParams)(),[t,a]=Object(s.useState)({results:[]}),[c,n]=Object(s.useState)(!0),r=F(),o=null===r||void 0===r?void 0:r.profile_image,[i,j]=Object(s.useState)({results:[]});return Object(s.useEffect)((()=>{(async()=>{try{const[{data:t},{data:s}]=await Promise.all([O.get("/posts/".concat(e)),O.get("/comments/?post=".concat(e))]);a({results:[t]}),n(!1),j(s)}catch(t){}})()}),[e]),Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(K.a,{children:[Object(A.jsx)(Z.a,{lg:{span:2},className:"d-none d-lg-block",children:Object(A.jsx)(at,{})}),Object(A.jsxs)(Z.a,{lg:{span:6,offset:1},children:[Object(A.jsx)($e,{mobile:!0}),Object(A.jsx)(at,{mobile:!0}),c&&Object(A.jsx)(d.a,{className:l.a.Content,children:Object(A.jsx)(me,{spinner:!0})}),!c&&Object(A.jsx)(Se,{...t.results[0],setPosts:a,postPage:!0})]}),Object(A.jsx)(Z.a,{lg:{span:2,offset:1},className:"d-none d-lg-block",children:Object(A.jsx)($e,{})}),Object(A.jsx)(Z.a,{lg:{span:6,offset:3},children:Object(A.jsxs)(d.a,{className:ge.a.commentContainer,children:[Object(A.jsx)("h3",{className:ge.a.CommentTitle,children:"Comments"}),r&&Object(A.jsx)(Te,{profile_id:r.profile_id,profileImage:o,post:e,setPost:a,setComments:j}),Object(A.jsx)(Qe.a,{loader:Object(A.jsx)(me,{spinner:!0}),dataLength:i.results.length,hasMore:!!i.next,next:()=>w(i,j),children:Object(A.jsx)(He,{comments:i,currentUser:r,setPost:a,setComments:j})})]})})]})})},ct=a(85),nt=a.n(ct),rt="data:image/png;base64,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";var ot=e=>{let{message:t,filter:a=""}=e;const[c,n]=Object(s.useState)({results:[]}),[r,o]=Object(s.useState)(!1),{pathname:i}=Object(Q.useLocation)(),[j,m]=Object(s.useState)(""),u=F();let h;return Object(s.useEffect)((()=>{o(!1);const e=setTimeout((()=>{(async()=>{try{const{data:e}=await O.get("/posts/?".concat(a,"search=").concat(j));n(e),o(!0)}catch(e){}})()}),1e3);return()=>{clearTimeout(e)}}),[a,j,i,u]),h=r?0===c.results.length?Object(A.jsx)(d.a,{className:l.a.Content,children:Object(A.jsx)(me,{src:rt,message:t})}):c.results.map((e=>Object(A.jsx)(Se,{...e,setPosts:n},e.id))):Object(A.jsx)(d.a,{className:l.a.Content,children:Object(A.jsx)(me,{spinner:!0})}),Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(K.a,{children:[Object(A.jsx)(Z.a,{lg:{span:3},className:"d-none d-lg-block",children:Object(A.jsx)(at,{})}),Object(A.jsxs)(Z.a,{lg:{span:6},children:[Object(A.jsx)($e,{mobile:!0}),Object(A.jsx)(at,{mobile:!0}),Object(A.jsx)("i",{className:"fas fa-search ".concat(nt.a.SearchIcon)}),Object(A.jsx)(q.a,{className:nt.a.SearchBar,onSubmit:e=>e.preventDefault(),children:Object(A.jsx)(q.a.Control,{value:j,onChange:e=>m(e.target.value),type:"text",placeholder:"Search posts"})}),Object(A.jsx)(Qe.a,{children:h,loader:Object(A.jsx)(me,{spinner:!0}),dataLength:c.results.length,hasMore:!!c.next,next:()=>w(c,n)})]}),Object(A.jsx)(Z.a,{lg:{span:3},className:"d-none d-lg-block",children:Object(A.jsx)($e,{})})]})})};var lt=e=>{let{showAlert:t}=e;const[a,c]=Object(s.useState)({}),[n,r]=Object(s.useState)({title:"",characterName:"",characterCategory:"Avenger",content:"",image:"",video:"",mediaType:"Image"}),{title:o,characterName:i,characterCategory:j,content:m,image:u,video:h,mediaType:p}=n,b=Object(s.useRef)(null),x=Object(s.useRef)(null),g=Object(Q.useHistory)(),{id:v}=Object(Q.useParams)();Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await O.get("/posts/".concat(v,"/")),{title:t,character_name:a,character_category:s,content:c,image:n,video:o,is_owner:l}=e;if(l){r({title:t,characterName:a,characterCategory:s,content:c,image:n,video:o,mediaType:n?"Image":o?"Video":"Image"})}else g.push("/")}catch(e){}})()}),[g,v]);const f=e=>{const{name:t,value:a}=e.target;r("mediaType"===t?{...n,[e.target.name]:e.target.value,image:"Video"===a?"":u,video:"Image"===a?"":h}:{...n,[e.target.name]:e.target.value})};return Object(A.jsx)(q.a,{onSubmit:async e=>{e.preventDefault();const a=new FormData;var s;if(a.append("title",o),a.append("character_name",i),a.append("character_category",j),a.append("content",m),"Image"===p)if(null!==b&&void 0!==b&&null!==(s=b.current)&&void 0!==s&&s.files[0])a.append("image",b.current.files[0]),a.append("video","");else{if(!u)return void t("danger","Please select an image file.");{const e=await fetch(u).then((e=>e.blob()));a.append("image",e,"existing_image.jpg")}}else if("Video"===p){var n;if(null!==x&&void 0!==x&&null!==(n=x.current)&&void 0!==n&&n.files[0])a.append("video",x.current.files[0]),a.append("image","");else{if(!h)return void t("danger","Please select a video file.");{const e=await fetch(h).then((e=>e.blob()));a.append("video",e,"existing_video.mp4")}}}try{await O.put("/posts/".concat(v,"/"),a),t("success","You have successfully changed your post"),g.push("/posts/".concat(v))}catch(r){r.response&&r.response.data&&(t("danger","There was an error with creating your post."),c(r.response.data))}},encType:"multipart/form-data",children:Object(A.jsx)(d.a,{className:l.a.Content,children:Object(A.jsx)(K.a,{className:"p-4 justify content center",children:Object(A.jsxs)(Z.a,{md:{span:10,offset:1},children:[Object(A.jsx)(d.a,{className:"d-flex flex-column justify-content-center",children:Object(A.jsxs)(q.a.Group,{className:"text-center",children:["Image"===n.mediaType&&Object(A.jsx)(he,{image:u,errors:a,imageInput:b,postData:n,setPostData:r,imageFile:u?new File([u],u.name):null}),"Video"===n.mediaType&&Object(A.jsx)(pe,{video:h,errors:a,videoInput:x,postData:n,setPostData:r}),Object(A.jsx)(be,{mediaType:p,handleChange:f})]})}),Object(A.jsxs)(d.a,{className:re.a.FormFields,children:[Object(A.jsx)(oe,{title:o,characterName:i,characterCategory:j,content:m,handleChange:f,errors:a}),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(re.a.PostButton),type:"submit",children:"save"}),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(re.a.PostButton),onClick:()=>g.goBack(),children:"cancel"})]})]})})})})},it=a(49),dt=a.n(it);var jt=e=>{let{profile:t}=e;const a=F(),s=(null===a||void 0===a?void 0:a.username)===(null===t||void 0===t?void 0:t.owner),{handleFollow:c,handleUnfollow:n}=Ye();return Object(A.jsxs)(A.Fragment,{children:[(null===t||void 0===t?void 0:t.is_owner)&&Object(A.jsx)(Ie,{id:null===t||void 0===t?void 0:t.id}),Object(A.jsxs)(K.a,{className:"text-center px-4",children:[Object(A.jsx)(Z.a,{lg:3,children:Object(A.jsx)(le.a,{className:dt.a.ProfileImage,roundedCircle:!0,src:null===t||void 0===t?void 0:t.image})}),Object(A.jsxs)(Z.a,{lg:4,children:[Object(A.jsx)("h5",{className:"".concat(dt.a.WordBreak," m-4"),children:null===t||void 0===t?void 0:t.owner}),Object(A.jsx)("h5",{className:"mt-4",children:"Favourite Character:"}),Object(A.jsx)("h5",{className:dt.a.FavCharacter,children:null===t||void 0===t?void 0:t.favourite_character})]}),Object(A.jsxs)(Z.a,{lg:3,children:[Object(A.jsxs)("p",{className:"m-4",children:["Posts:"," ",Object(A.jsx)("span",{className:dt.a.Counters,children:null===t||void 0===t?void 0:t.posts_count})]}),Object(A.jsxs)("p",{className:"mx-4",children:["Followers:"," ",Object(A.jsx)("span",{className:dt.a.Counters,children:null===t||void 0===t?void 0:t.followers_count})]}),Object(A.jsxs)("p",{className:"m-4",children:["Following:"," ",Object(A.jsx)("span",{className:dt.a.Counters,children:null===t||void 0===t?void 0:t.following_count})]})]}),Object(A.jsx)(Z.a,{lg:2,className:"text-lg-right",children:a&&!s&&(null!==t&&void 0!==t&&t.following_id?Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(W.a.ProfilePageUnFollow),onClick:()=>n(t),children:"unfollow"}):Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(W.a.ProfilePageFollow),onClick:()=>c(t),children:"follow"}))})]}),Object(A.jsx)(K.a,{children:Object(A.jsxs)(Z.a,{children:[Object(A.jsx)("p",{className:"mx-3",children:"About me:"}),Object(A.jsx)("p",{className:"m-3",children:null===t||void 0===t?void 0:t.content})]})})]})};var mt=e=>{let{profile:t,profilePosts:a,setProfilePosts:s}=e;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("h4",{className:"text-center mt-5",children:[null===t||void 0===t?void 0:t.owner,"'s posts"]}),a.results.length?Object(A.jsx)(Qe.a,{children:a.results.map((e=>Object(A.jsx)(Se,{...e,setPosts:s},e.id))),dataLength:a.results.length,loader:Object(A.jsx)(me,{spinner:!0}),hasMore:!!a.next,next:()=>w(a,s)}):Object(A.jsx)(me,{src:rt,message:"No results found, ".concat(null===t||void 0===t?void 0:t.owner," hasn't posted yet.")})]})};var ut=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({results:[]}),{id:n}=Object(Q.useParams)(),{setProfileData:r}=Ye(),{pageProfile:o}=qe(),[i]=o.results;return Object(s.useEffect)((()=>{(async()=>{try{const[{data:e},{data:a}]=await Promise.all([O.get("/profiles/".concat(n,"/")),O.get("/posts/?owner__profile=".concat(n))]);r((t=>({...t,pageProfile:{results:[e]}}))),c(a),t(!0)}catch(e){}})()}),[n,r]),Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(K.a,{children:[Object(A.jsxs)(Z.a,{lg:{span:8,offset:1},children:[Object(A.jsx)($e,{mobile:!0}),e&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(d.a,{className:l.a.Content,children:Object(A.jsx)(jt,{profile:i})}),Object(A.jsx)(mt,{profile:i,profilePosts:a,setProfilePosts:c})]}),!e&&Object(A.jsx)(d.a,{className:l.a.Content,children:Object(A.jsx)(me,{spinner:!0})})]}),Object(A.jsx)(Z.a,{lg:{span:3},className:"d-none d-lg-block",children:Object(A.jsx)($e,{})})]})})},ht=a(57),pt=a.n(ht);var bt=e=>{var t;let{showAlert:a}=e;const[c,n]=Object(s.useState)(""),[r,o]=Object(s.useState)({}),i=Object(Q.useHistory)(),{id:j}=Object(Q.useParams)(),u=F(),h=k();Object(s.useEffect)((()=>{var e;(null===u||void 0===u||null===(e=u.profile_id)||void 0===e?void 0:e.toString())===j?n(u.username):i.push("/")}),[u,i,j]);return Object(A.jsxs)(d.a,{className:l.a.Content,children:[Object(A.jsx)(K.a,{className:"".concat(pt.a.Row," justify-content-center"),children:Object(A.jsx)(Z.a,{md:{span:6},children:Object(A.jsx)(d.a,{children:Object(A.jsxs)(K.a,{className:"text-center",children:[Object(A.jsx)(Z.a,{xs:"2",children:Object(A.jsx)("img",{src:m,alt:"logo",height:"40"})}),Object(A.jsx)(Z.a,{xs:"8",children:Object(A.jsx)("h1",{className:pt.a.Heading,children:"Change username"})})]})})})}),Object(A.jsx)(K.a,{className:"justify-content-center text-center my-3",children:Object(A.jsx)(Z.a,{md:6,children:Object(A.jsxs)(q.a,{onSubmit:async e=>{e.preventDefault();try{await g.put("/dj-rest-auth/user/",{username:c}),h((e=>({...e,username:c}))),a("success","You have successfully changed your username"),i.goBack()}catch(s){var t;o(null===(t=s.response)||void 0===t?void 0:t.data)}},children:[Object(A.jsxs)(q.a.Group,{children:[Object(A.jsx)(q.a.Label,{className:"d-none",children:"Change Username"}),Object(A.jsx)(q.a.Control,{placeholder:"new username",type:"text",value:c,onChange:e=>n(e.target.value),className:pt.a.UsernameInput,maxLength:12})]}),null===r||void 0===r||null===(t=r.username)||void 0===t?void 0:t.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(pt.a.UsernameButton),type:"submit",children:"save"}),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(pt.a.UsernameButton),onClick:()=>i.goBack(),children:"cancel"})]})})})]})},xt=a(50),Ot=a.n(xt);var gt=e=>{var t,a;let{showAlert:c}=e;const[n,r]=Object(s.useState)({new_password1:"",new_password2:""}),{new_password1:o,new_password2:i}=n,[j,u]=Object(s.useState)({}),h=Object(Q.useHistory)(),{id:p}=Object(Q.useParams)(),b=F();Object(s.useEffect)((()=>{var e;(null===b||void 0===b||null===(e=b.profile_id)||void 0===e?void 0:e.toString())!==p&&h.push("/")}),[b,h,p]);const x=e=>{r({...n,[e.target.name]:e.target.value})};return Object(A.jsxs)(d.a,{className:l.a.Content,children:[Object(A.jsx)(K.a,{className:"".concat(Ot.a.Row," justify-content-center"),children:Object(A.jsx)(Z.a,{md:{span:6},children:Object(A.jsx)(d.a,{children:Object(A.jsxs)(K.a,{className:"text-center",children:[Object(A.jsx)(Z.a,{xs:"2",children:Object(A.jsx)("img",{src:m,alt:"logo",height:"40"})}),Object(A.jsx)(Z.a,{xs:"8",children:Object(A.jsx)("h1",{className:Ot.a.Heading,children:"Change password"})})]})})})}),Object(A.jsx)(K.a,{className:"justify-content-center text-center my-3",children:Object(A.jsx)(Z.a,{md:6,children:Object(A.jsxs)(q.a,{onSubmit:async e=>{e.preventDefault();try{await g.post("/dj-rest-auth/password/change/",n),c("success","You have successfully changed your password."),h.goBack()}catch(a){var t;u(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(A.jsxs)(q.a.Group,{children:[Object(A.jsx)(q.a.Label,{className:"d-none",children:"Change password"}),Object(A.jsx)(q.a.Control,{placeholder:"new password",type:"password",value:o,onChange:x,className:Ot.a.PasswordInput,name:"new_password1"})]}),null===j||void 0===j||null===(t=j.new_password1)||void 0===t?void 0:t.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsxs)(q.a.Group,{children:[Object(A.jsx)(q.a.Label,{className:"d-none",children:"Confirm password"}),Object(A.jsx)(q.a.Control,{placeholder:"confirm password",type:"password",value:i,onChange:x,className:Ot.a.PasswordInput,name:"new_password2"})]}),null===j||void 0===j||null===(a=j.new_password2)||void 0===a?void 0:a.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(Ot.a.PasswordButton),type:"submit",children:"save"}),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(Ot.a.PasswordButton),onClick:()=>h.goBack(),children:"cancel"})]})})})]})},vt=a(40),ft=a.n(vt);var wt=e=>{var t,a;let{favouriteCharacter:s,content:c,handleChange:n,errors:r}=e;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(q.a.Group,{children:[Object(A.jsx)(q.a.Label,{children:"Favourite character"}),Object(A.jsx)(q.a.Control,{type:"text",name:"favouriteCharacter",value:s,onChange:n,className:ft.a.EditInput})]}),null===r||void 0===r||null===(t=r.favourite_character)||void 0===t?void 0:t.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsxs)(q.a.Group,{children:[Object(A.jsx)(q.a.Label,{children:"About me"}),Object(A.jsx)(q.a.Control,{as:"textarea",name:"content",value:c,onChange:n,className:ft.a.EditInput})]}),null===r||void 0===r||null===(a=r.content)||void 0===a?void 0:a.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t)))]})};var Ct=e=>{var t;let{image:a,errors:s,imageInput:c,profileData:n,setProfileData:r}=e;return Object(A.jsxs)("div",{children:[Object(A.jsx)("figure",{children:Object(A.jsx)(le.a,{className:ft.a.Media,src:a,fluid:!0})}),null===s||void 0===s||null===(t=s.image)||void 0===t?void 0:t.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsx)("div",{children:Object(A.jsx)(q.a.Label,{className:"".concat(W.a.Button," my-4"),htmlFor:"image-upload",children:"Change the image"})}),Object(A.jsx)(q.a.File,{id:"image-upload",className:ft.a.ChooseFile,ref:c,accept:"image/*",onChange:e=>{e.target.files.length&&r({...n,image:URL.createObjectURL(e.target.files[0])})}})]})};var _t=e=>{let{showAlert:t}=e;const[a,c]=Object(s.useState)({}),n=Object(s.useRef)(),r=Object(Q.useHistory)(),{id:o}=Object(Q.useParams)(),i=F(),j=k(),[m,u]=Object(s.useState)({name:"",favouriteCharacter:"",content:"",image:""}),{name:h,favouriteCharacter:p,content:b,image:x}=m;Object(s.useEffect)((()=>{(async()=>{var e;if((null===i||void 0===i||null===(e=i.profile_id)||void 0===e?void 0:e.toString())===o)try{const{data:e}=await O.get("/profiles/".concat(o,"/")),{name:t,favourite_character:a,content:s,image:c}=e;u({name:t,favouriteCharacter:a,content:s,image:c})}catch(t){r.push("/")}else r.push("/")})()}),[i,r,o]);return Object(A.jsx)(q.a,{onSubmit:async e=>{var a;e.preventDefault();const s=new FormData;var l;(s.append("name",h),s.append("favourite_character",p||""),s.append("content",b),null!==n&&void 0!==n&&null!==(a=n.current)&&void 0!==a&&a.files[0])&&s.append("image",null===n||void 0===n||null===(l=n.current)||void 0===l?void 0:l.files[0]);try{const{data:e}=await O.put("/profiles/".concat(o,"/"),s);j((t=>({...t,profile_image:e.image}))),t("success","You have successfully updated your profile"),r.goBack()}catch(d){var i;c(null===(i=d.response)||void 0===i?void 0:i.data)}},encType:"multipart/form-data",children:Object(A.jsx)(d.a,{className:l.a.Content,children:Object(A.jsx)(K.a,{className:"p-4 justify content center",children:Object(A.jsxs)(Z.a,{md:{span:10,offset:1},children:[Object(A.jsx)(d.a,{className:"d-flex flex-column justify-content-center",children:Object(A.jsx)(q.a.Group,{className:"text-center",children:x&&Object(A.jsx)(Ct,{image:x,errors:a,imageInput:n,profileData:m,setProfileData:u})})}),Object(A.jsxs)(d.a,{className:ft.a.FormFields,children:[Object(A.jsx)(wt,{favouriteCharacter:p,content:b,handleChange:e=>{u({...m,[e.target.name]:e.target.value})},errors:a}),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(ft.a.EditButton),type:"submit",children:"save"}),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(ft.a.EditButton),onClick:()=>r.goBack(),children:"cancel"})]})]})})})})},Nt=a(26),yt=a.n(Nt);var At=e=>{var t,a;let{reason:s,description:c,handleChange:n,errors:r}=e;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(q.a.Group,{children:[Object(A.jsx)(q.a.Label,{children:"Reason"}),Object(A.jsxs)(q.a.Control,{as:"select",name:"reason",value:s,onChange:n,className:yt.a.ReportInput,children:[Object(A.jsx)("option",{value:"spam",children:"Spam"}),Object(A.jsx)("option",{value:"harassment",children:"Harassment"}),Object(A.jsx)("option",{value:"inappropriate_content",children:"Inappropriate Content"}),Object(A.jsx)("option",{value:"character_in_wrong_category",children:"Character In Wrong Category"}),Object(A.jsx)("option",{value:"other",children:"Other"})]})]}),null===r||void 0===r||null===(t=r.reason)||void 0===t?void 0:t.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t))),Object(A.jsxs)(q.a.Group,{children:[Object(A.jsx)(q.a.Label,{children:"Description"}),Object(A.jsx)(q.a.Control,{as:"textarea",name:"description",value:c,onChange:n,className:yt.a.ReportInput})]}),null===r||void 0===r||null===(a=r.description)||void 0===a?void 0:a.map(((e,t)=>Object(A.jsx)(J.a,{variant:"warning",children:e},t)))]})};var Pt=e=>{let{showAlert:t}=e;z("loggedOut");const[a,c]=Object(s.useState)({}),n=Object(Q.useHistory)(),{id:r}=Object(Q.useParams)(),o=F(),[i,j]=Object(s.useState)({owner:o?o.username:"",post:r,reason:"spam",description:""}),{reason:u,description:h}=i;return Object(A.jsxs)(d.a,{className:l.a.Content,children:[Object(A.jsx)(K.a,{className:"".concat(yt.a.Row," justify-content-center"),children:Object(A.jsx)(Z.a,{md:{span:6},children:Object(A.jsx)(d.a,{children:Object(A.jsxs)(K.a,{className:"text-center",children:[Object(A.jsx)(Z.a,{xs:"2",children:Object(A.jsx)("img",{src:m,alt:"logo",height:"40"})}),Object(A.jsx)(Z.a,{xs:"8",children:Object(A.jsx)("h1",{className:yt.a.Heading,children:"Report"})})]})})})}),Object(A.jsx)(q.a,{onSubmit:async e=>{e.preventDefault();try{await O.post("/report/",i),t("success","Report submitted successfully."),n.goBack()}catch(a){c(a.response.data)}},encType:"multipart/form-data",children:Object(A.jsx)(K.a,{className:"p-4 justify content center",children:Object(A.jsx)(Z.a,{md:{span:10,offset:1},children:Object(A.jsxs)(d.a,{className:yt.a.FormFields,children:[Object(A.jsx)(At,{reason:u,description:h,handleChange:e=>{j({...i,[e.target.name]:e.target.value})},errors:a}),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(yt.a.ReportButton),type:"submit",children:"submit"}),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(yt.a.ReportButton),onClick:()=>n.goBack(),children:"cancel"})]})})})})]})},Bt=a(86),Ft=a.n(Bt);var kt=()=>Object(A.jsxs)(d.a,{className:Ft.a.NotFoundContent,children:[Object(A.jsx)("div",{children:Object(A.jsx)(me,{src:rt,message:"Sorry, the page you're looking for doesn't exist"})}),Object(A.jsx)("div",{className:"text-center my-3",children:Object(A.jsx)(v.Link,{to:"/",children:Object(A.jsx)("span",{className:Ft.a.Link,children:"Click to return to Home page"})})})]}),It=a(103),St=a.n(It),Rt=a(23),Dt=a.n(Rt);var Tt=e=>{let{report:t,showAlert:a,setReports:s}=e;const c=F(),n=(null===c||void 0===c?void 0:c.username)===t.owner,r=Object(Q.useHistory)();return Object(A.jsxs)(d.a,{className:l.a.Content,children:[Object(A.jsx)(K.a,{className:"".concat(Dt.a.Row," justify-content-center"),children:Object(A.jsx)(Z.a,{md:{span:6},children:Object(A.jsx)(d.a,{children:Object(A.jsxs)(K.a,{className:"text-center",children:[Object(A.jsx)(Z.a,{xs:"2",children:Object(A.jsx)("img",{src:m,alt:"logo",height:"40"})}),Object(A.jsx)(Z.a,{xs:"8",children:Object(A.jsxs)("h1",{className:Dt.a.Heading,children:["Report ",t.id]})})]})})})}),Object(A.jsx)("div",{className:"ml-auto mt-2 d-flex align-items-center",children:n&&Object(A.jsx)("div",{className:"ml-auto",children:Object(A.jsx)(ke,{handleDelete:async()=>{try{await g.delete("/report/".concat(t.id,"/")),s((e=>({...e,results:e.results.filter((e=>e.id!==t.id))}))),a("success","Report deleted successfully.")}catch(e){}},handleEdit:()=>{r.push("/report/".concat(t.id,"/edit"))},resolved:t.resolved})})}),Object(A.jsxs)(K.a,{className:"text-center",children:[Object(A.jsxs)(Z.a,{lg:6,children:[Object(A.jsx)("p",{className:Dt.a.ReportInfo,children:"Owner:"}),Object(A.jsx)("p",{className:Dt.a.ReportData,children:t.owner}),Object(A.jsx)("p",{className:Dt.a.ReportInfo,children:"Post:"}),Object(A.jsx)("p",{className:Dt.a.ReportData,children:t.post}),Object(A.jsx)("p",{className:Dt.a.ReportInfo,children:"Created At:"}),Object(A.jsx)("p",{className:Dt.a.ReportData,children:t.created_at})]}),Object(A.jsxs)(Z.a,{lg:6,children:[Object(A.jsx)("p",{className:Dt.a.ReportInfo,children:"Reason:"}),Object(A.jsx)("p",{className:Dt.a.ReportData,children:(e=>{switch(e){case"spam":return"Spam";case"harassment":return"Harassment";case"inappropriate_content":return"Inappropriate Content";case"character_in_wrong_category":return"Character In Wrong Category";default:return e}})(t.reason)}),Object(A.jsx)("p",{className:Dt.a.ReportInfo,children:"Description:"}),Object(A.jsx)("p",{className:Dt.a.ReportData,children:t.description}),t.resolved?Object(A.jsxs)("p",{className:Dt.a.ReportInfo,children:["Resolved: ",Object(A.jsx)("i",{className:"".concat(Dt.a.Tick," fa-solid fa-circle-check")})]}):Object(A.jsxs)("p",{className:Dt.a.ReportInfo,children:["Resolved: ",Object(A.jsx)("i",{className:"".concat(Dt.a.Cross," fa-solid fa-circle-xmark")})]})]})]})]})};var Et=e=>{let{message:t,showAlert:a}=e;const[c,n]=Object(s.useState)({results:[]}),[r,o]=Object(s.useState)(!1),i=F();z("loggedOut");const j=Object(v.useHistory)();let m;return Object(s.useEffect)((()=>{o(!1);const e=setTimeout((()=>{(async()=>{try{const{data:e}=await O.get("/report/");n(e),o(!0)}catch(e){console.log(e)}})()}),1e3);return()=>{clearTimeout(e)}}),[i,j]),m=r?0===c.results.length?Object(A.jsx)(d.a,{className:l.a.Content,children:Object(A.jsx)(me,{src:rt,message:t})}):c.results.map((e=>e.owner===i.username?Object(A.jsx)(Tt,{report:e,showAlert:a,setReports:n},e.id):null)):Object(A.jsx)(d.a,{className:l.a.Content,children:Object(A.jsx)(me,{spinner:!0})}),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h1",{className:"".concat(St.a.Heading," mt-3"),children:"My Reports"}),Object(A.jsx)(Qe.a,{children:m,loader:Object(A.jsx)(me,{spinner:!0}),dataLength:c.results.length,hasMore:!!c.next,next:()=>w(c,n)})]})};var Ut=e=>{let{showAlert:t}=e;z("loggedOut");const[a,c]=Object(s.useState)({}),n=Object(Q.useHistory)(),{id:r}=Object(Q.useParams)(),o=F(),[i,j]=Object(s.useState)({owner:o?o.username:"",post:r,reason:"spam",description:""}),{reason:u,description:h}=i;Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await O.get("/report/".concat(r,"/")),{owner:t,resolved:a,reason:s,description:c}=e;(null===o||void 0===o?void 0:o.username)!==t||a?n.push("/"):j({owner:t,reason:s,description:c})}catch(e){n.push("/")}})()}),[o,n,r]);return Object(A.jsxs)(d.a,{className:l.a.Content,children:[Object(A.jsx)(K.a,{className:"".concat(yt.a.Row," justify-content-center"),children:Object(A.jsx)(Z.a,{md:{span:6},children:Object(A.jsx)(d.a,{children:Object(A.jsxs)(K.a,{className:"text-center",children:[Object(A.jsx)(Z.a,{xs:"2",children:Object(A.jsx)("img",{src:m,alt:"logo",height:"40"})}),Object(A.jsx)(Z.a,{xs:"8",children:Object(A.jsx)("h1",{className:yt.a.Heading,children:"Report Edit"})})]})})})}),Object(A.jsx)(q.a,{onSubmit:async e=>{e.preventDefault();const a=new FormData;a.append("reason",u),a.append("description",h);try{await O.put("/report/".concat(r,"/"),a),t("success","Report edited successfully."),n.goBack()}catch(s){c(s.response.data)}},encType:"multipart/form-data",children:Object(A.jsx)(K.a,{className:"p-4 justify content center",children:Object(A.jsx)(Z.a,{md:{span:10,offset:1},children:Object(A.jsxs)(d.a,{className:yt.a.FormFields,children:[Object(A.jsx)(At,{reason:u,description:h,handleChange:e=>{j({...i,[e.target.name]:e.target.value})},errors:a}),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(yt.a.ReportButton),type:"submit",children:"save"}),Object(A.jsx)(Y.a,{className:"".concat(W.a.Button," ").concat(yt.a.ReportButton),onClick:()=>n.goBack(),children:"cancel"})]})})})})]})};var Lt=function(){const{alert:e,showAlert:t,hideAlert:a}=(()=>{const[e,t]=Object(s.useState)(null);return{alert:e,showAlert:(e,a)=>{t({variant:e,message:a})},hideAlert:()=>{t(null)}}})(),c=F(),n=(null===c||void 0===c?void 0:c.profile_id)||"";return Object(A.jsxs)("div",{className:l.a.App,children:[Object(A.jsx)(H,{showAlert:t}),e&&Object(A.jsx)(ce,{variant:e.variant,message:e.message,showAlert:t,onClose:a}),Object(A.jsx)(d.a,{className:l.a.Main,children:Object(A.jsxs)(Q.Switch,{children:[Object(A.jsx)(Q.Route,{exact:!0,path:"/",render:()=>Object(A.jsx)(ot,{message:"No results found. Please adjust your search."})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/feed",render:()=>Object(A.jsx)(ot,{message:"No results found. Please adjust your search or follow a user.",filter:"owner__followed__owner__profile=".concat(n,"&")})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/liked",render:()=>Object(A.jsx)(ot,{message:"No results found. Please adjust your search or like a post.",filter:"likes__owner__profile=".concat(n,"&ordering=-likes__created_at&")})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/signin",render:()=>Object(A.jsx)(te,{showAlert:t,currentUser:c,setTokenTimestamp:N})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/signup",render:()=>Object(A.jsx)($,{})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/posts/create",render:()=>Object(A.jsx)(xe,{showAlert:t})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/posts/:id",render:()=>Object(A.jsx)(st,{})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/posts/:id/edit",render:()=>Object(A.jsx)(lt,{showAlert:t})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/profiles/:id",render:()=>Object(A.jsx)(ut,{})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/profiles/:id/edit/username",render:()=>Object(A.jsx)(bt,{showAlert:t})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/profiles/:id/edit/password",render:()=>Object(A.jsx)(gt,{showAlert:t})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/profiles/:id/edit",render:()=>Object(A.jsx)(_t,{showAlert:t})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/report/",render:()=>Object(A.jsx)(Et,{message:"You currently have no reports to view.",showAlert:t})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/report/:id/",render:()=>Object(A.jsx)(Pt,{showAlert:t})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/report/:id/edit",render:()=>Object(A.jsx)(Ut,{showAlert:t})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/character_category/avenger/",render:()=>Object(A.jsx)(ot,{message:"No results found. Please adjust your search or follow a user.",filter:"character_category=Avenger&"})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/character_category/x-men/",render:()=>Object(A.jsx)(ot,{message:"No results found. Please adjust your search or follow a user.",filter:"character_category=X-Men&"})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/character_category/anti-hero/",render:()=>Object(A.jsx)(ot,{message:"No results found. Please adjust your search or follow a user.",filter:"character_category=Anti-Hero&"})}),Object(A.jsx)(Q.Route,{exact:!0,path:"/character_category/villain/",render:()=>Object(A.jsx)(ot,{message:"No results found. Please adjust your search or follow a user.",filter:"character_category=Villain&"})}),Object(A.jsx)(Q.Route,{render:()=>Object(A.jsx)(kt,{})})]})})]})};var Mt=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,147)).then((t=>{let{getCLS:a,getFID:s,getFCP:c,getLCP:n,getTTFB:r}=t;a(e),s(e),c(e),n(e),r(e)}))};r.a.render(Object(A.jsx)(p.a,{children:Object(A.jsx)(I,{children:Object(A.jsx)(Ke,{children:Object(A.jsx)(Lt,{})})})}),document.getElementById("root")),Mt()},14:function(e,t,a){e.exports={App:"App_App__16ZpL",Main:"App_Main__HQkvd",Content:"App_Content__ZaMNr"}},19:function(e,t,a){e.exports={FormFields:"PostCreateEditForm_FormFields__k6GW2",PostButton:"PostCreateEditForm_PostButton__2MKmz",ChooseFile:"PostCreateEditForm_ChooseFile__UUwo6",Media:"PostCreateEditForm_Media__3B7Ml",RadioButtons:"PostCreateEditForm_RadioButtons__14Ylh"}},23:function(e,t,a){e.exports={Row:"Report_Row__n7zYd",Heading:"Report_Heading__2XBxC",Tick:"Report_Tick__8ONNG",Cross:"Report_Cross__ZiXoP",ReportInfo:"Report_ReportInfo__2mSvc",ReportData:"Report_ReportData__1uGDB"}},25:function(e,t,a){e.exports={commentContainer:"CommentCreateEditForm_commentContainer__2Bmec",Form:"CommentCreateEditForm_Form__1Qeyz",agreeIcon:"CommentCreateEditForm_agreeIcon__2hbzy",textarea:"CommentCreateEditForm_textarea__1S0VM",CommentTitle:"CommentCreateEditForm_CommentTitle__2bzQA",Message:"CommentCreateEditForm_Message__1ft2_",EditContent:"CommentCreateEditForm_EditContent__9EUi6"}},26:function(e,t,a){e.exports={Row:"CreateEditReportForm_Row__2kvxf",Heading:"CreateEditReportForm_Heading__Wc9Kc",FormFields:"CreateEditReportForm_FormFields__mA7DB",ReportInput:"CreateEditReportForm_ReportInput__s12RQ",ReportButton:"CreateEditReportForm_ReportButton__38U_4"}},28:function(e,t,a){e.exports={PostContainer:"Post_PostContainer__EIAy2",PostBody:"Post_PostBody__MRrhB",PostTitle:"Post_PostTitle__AbYiE",PostMedia:"Post_PostMedia__2BX-Y",PostIcons:"Post_PostIcons__2uhWb",IconContainer:"Post_IconContainer__DrAhT",IconCount:"Post_IconCount__1Faya"}},31:function(e,t,a){e.exports={Row:"SignUpInForm_Row__2AH7P",Heading:"SignUpInForm_Heading__p7n4f",Input:"SignUpInForm_Input__22mN5",Link:"SignUpInForm_Link__3jl6K"}},34:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1amC6",Active:"NavBar_Active__3PBZb"}},37:function(e,t,a){e.exports={DropdownMenu:"MoreDropdown_DropdownMenu__3y5AT",DropdownItem:"MoreDropdown_DropdownItem__2E4UM",Absolute:"MoreDropdown_Absolute__2RO70",ProfileDropdownMenu:"MoreDropdown_ProfileDropdownMenu__2BUyy",ProfileDropdownItem:"MoreDropdown_ProfileDropdownItem__2PooL",ProfileDropdownIcon:"MoreDropdown_ProfileDropdownIcon__237k5"}},38:function(e,t,a){e.exports={SearchByHeader:"SearchBy_SearchByHeader__Q6D0Z",SearchByContainer:"SearchBy_SearchByContainer__8ttl9",SearchByLinks:"SearchBy_SearchByLinks__gmxh_",ActiveLink:"SearchBy_ActiveLink__1oxxG"}},40:function(e,t,a){e.exports={FormFields:"ProfileEditForm_FormFields__3Scci",EditButton:"ProfileEditForm_EditButton__24T-_",ChooseFile:"ProfileEditForm_ChooseFile__1tPmU",Media:"ProfileEditForm_Media__vMuPG",EditInput:"ProfileEditForm_EditInput__1OcmL"}},49:function(e,t,a){e.exports={ProfileImage:"ProfilePage_ProfileImage__7dvRw",EditIcon:"ProfilePage_EditIcon__33uD6",FavCharacter:"ProfilePage_FavCharacter__1mixm",Counters:"ProfilePage_Counters__3r78L"}},50:function(e,t,a){e.exports={PasswordInput:"PasswordForm_PasswordInput__hdrof",PasswordButton:"PasswordForm_PasswordButton__3JUtm",Row:"PasswordForm_Row__3YQOR",Heading:"PasswordForm_Heading__3_b5K"}},56:function(e,t,a){e.exports={Tick:"Comment_Tick__1TRDk",Cross:"Comment_Cross__16yX5",Owner:"Comment_Owner__3sgYe",Date:"Comment_Date__10qt0",Content:"Comment_Content__SLJ1C"}},57:function(e,t,a){e.exports={UsernameInput:"UsernameForm_UsernameInput__nK4HG",UsernameButton:"UsernameForm_UsernameButton__3KVzY",Row:"UsernameForm_Row__1qnko",Heading:"UsernameForm_Heading__1Bqgj"}},83:function(e,t,a){e.exports={HeaderProfiles:"PopularProfiles_HeaderProfiles__2lkKI",ProfileContainer:"PopularProfiles_ProfileContainer__1xAzh"}},84:function(e,t,a){e.exports={WordBreak:"Profile_WordBreak__3_YmI",OwnerText:"Profile_OwnerText__2c_Ps"}},85:function(e,t,a){e.exports={SearchBar:"PostsPage_SearchBar__1T8bC",SearchIcon:"PostsPage_SearchIcon__12ojn"}},86:function(e,t,a){e.exports={NotFoundContent:"NotFound_NotFoundContent__JEJNC",Link:"NotFound_Link__21iS-"}},99:function(e,t,a){e.exports={Avatar:"Avatar_Avatar__196lW"}}},[[139,1,2]]]);
//# sourceMappingURL=main.08e92c45.chunk.js.map